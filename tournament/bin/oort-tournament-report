#!/usr/bin/env ruby
require 'oort-tournament/db'
require 'trollop'

$opts = Trollop.options do
  banner <<-EOS
Add a local AI to an Oort tournament database

Usage:
       oort-tournament-register [options] name filename

where [options] are:
EOS

  opt :database, "Location of tournament database", :short => 'D', :default => 'oort-tournament.yaml'
end

db = OortTournament::DB.new $opts[:database]

ais = db.ais.sort_by { |name,ai| -ai['mean'] }

ais.each do |name,ai|
  puts "#{name} #{ai['user']} #{'%0.2f' % ai['mean']} #{'%0.2f' % ai['deviation']}"
end
